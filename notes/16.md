# Day 16
Notes coming soon.

|      | Part 1 | Part 2 | Total   |
|------|--------|--------|---------|
| Time | 35:36  | 37:49  | 1:13:25 |

## Part 1
brief notes
```python
from helpers.datagetter import aocd_data_in

din, aocd_submit = aocd_data_in(split=True, numbers=False)
ans = 0

for i in range(len(din)):
    din[i] = [c for c in din[i]]


def in_range(i, j):
    if 0 <= i < len(din) and 0 <= j < len(din[0]):
        return True
    return False


def move(bms):
    out = []
    for bm in bms:
        d = bm["dir"]
        x, y = bm["pos"]
        c = din[x][y]
        if d == 0:
            if c in ".|":
                out.append({"dir": d, "pos": (x - 1, y)})
            if c in "\\-":
                out.append({"dir": 3, "pos": (x, y - 1)})
            if c in "/-":
                out.append({"dir": 1, "pos": (x, y + 1)})
        elif d == 1:
            if c in ".-":
                out.append({"dir": d, "pos": (x, y + 1)})
            if c in "\\|":
                out.append({"dir": 2, "pos": (x + 1, y)})
            if c in "/|":
                out.append({"dir": 0, "pos": (x - 1, y)})
        elif d == 2:
            if c in ".|":
                out.append({"dir": d, "pos": (x + 1, y)})
            if c in "\\-":
                out.append({"dir": 1, "pos": (x, y + 1)})
            if c in "/-":
                out.append({"dir": 3, "pos": (x, y - 1)})
        elif d == 3:
            print("test", c, )
            if c in ".-":
                out.append({"dir": d, "pos": (x, y - 1)})
            if c in "\\|":
                print(d, x, y)
                out.append({"dir": 0, "pos": (x - 1, y)})
            if c in "/|":
                out.append({"dir": 2, "pos": (x + 1, y)})
    return out


beams = [{"dir": 1, "pos": (0, 0)}]
already = [{"dir": 1, "pos": (0, 0)}]

print(beams)

while len(beams):
    new_beams = []
    for beam in move(beams):
        if beam not in already and in_range(beam["pos"][0], beam["pos"][1]):
            new_beams.append(beam)
            already.append(beam)
    beams = new_beams.copy()
    print(beams)

uniq = []
for bm in already:
    if bm["pos"] not in uniq:
        uniq.append(bm["pos"])

aocd_submit(len(uniq))
```

## Part 2
brief notes
```python
import functools
from helpers.datagetter import aocd_data_in
import tqdm
import time

din, aocd_submit = aocd_data_in(split=True, numbers=False)

for i in range(len(din)):
    din[i] = [c for c in din[i]]


def in_range(i, j):
    if i in range(len(din)) and j in range(len(din[0])):
        return True
    return False


@functools.cache
def move(bm):
    out = []
    d = bm[0]
    x, y = bm[1], bm[2]
    c = din[x][y]
    if d == 0:
        if c in ".|":
            out.append((d, x - 1, y))
        if c in "\\-":
            out.append((3, x, y - 1))
        if c in "/-":
            out.append((1, x, y + 1))
    elif d == 1:
        if c in ".-":
            out.append((d, x, y + 1))
        if c in "\\|":
            out.append((2, x + 1, y))
        if c in "/|":
            out.append((0, x - 1, y))
    elif d == 2:
        if c in ".|":
            out.append((d, x + 1, y))
        if c in "\\-":
            out.append((1, x, y + 1))
        if c in "/-":
            out.append((3, x, y - 1))
    elif d == 3:
        if c in ".-":
            out.append((d, x, y - 1))
        if c in "\\|":
            out.append((0, x - 1, y))
        if c in "/|":
            out.append((2, x + 1, y))
    return out


def start_at(direction, x, y):
    beams = [(direction, x, y)]
    already = []

    while len(beams):
        new_beams = []
        for b in beams:
            if b in already or not in_range(b[1], b[2]):
                continue
            already.append(b)
            bb = move(b)
            for beam in bb:
                new_beams.append(beam)
        beams = new_beams.copy()

    dict = {}
    for bm in already:
        dict["%s, %s" % (bm[1], bm[2])] = 1

    return len(dict)

m = []
for i in tqdm.tqdm(range(len(din))):
    m.append(start_at(1, i, 0))
    m.append(start_at(3, i, len(din[0]) - 1))

for j in tqdm.tqdm(range(len(din[0]))):
    m.append(start_at(2, 0, j))
    m.append(start_at(0, len(din) - 1, j))

aocd_submit(max(m))```